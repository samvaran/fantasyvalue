
================================================================================
FANTASY VALUE DATA PIPELINE
================================================================================

Data Sources:
  FantasyPros Projections: FETCH
  FanDuel Salaries: ALWAYS (local join)
  DraftKings Game Lines: FETCH
  DraftKings TD Odds: FETCH
  ESPN Player IDs: FETCH from API
  ESPN Projections: FETCH
  Regression Models: LOAD from cache

=== STEP 1: Fetching FantasyPros Projections ===

Fetching QB...
  LAUNCHED https://www.fantasypros.com/nfl/rankings/qb.php
  CLOSED https://www.fantasypros.com/nfl/rankings/qb.php
Fetching RB...
  LAUNCHED https://www.fantasypros.com/nfl/rankings/half-point-ppr-rb.php
  CLOSED https://www.fantasypros.com/nfl/rankings/half-point-ppr-rb.php
Fetching WR...
  LAUNCHED https://www.fantasypros.com/nfl/rankings/half-point-ppr-wr.php
  CLOSED https://www.fantasypros.com/nfl/rankings/half-point-ppr-wr.php
Fetching TE...
  LAUNCHED https://www.fantasypros.com/nfl/rankings/half-point-ppr-te.php
  CLOSED https://www.fantasypros.com/nfl/rankings/half-point-ppr-te.php
Fetching D...
  LAUNCHED https://www.fantasypros.com/nfl/rankings/dst.php
  CLOSED https://www.fantasypros.com/nfl/rankings/dst.php

=== STEP 2: Adding FanDuel Salaries ===

Reading from: FanDuel-NFL-2025 PST-11 PST-23 PST-123236-players-list.csv
EXCLUDED SALARIES (no match in FanDuel data):
  josh allen
  davis mills
  mitchell trubisky
  shane buechele
  graham mertz
  james cook
  woody marks
  nick chubb
  ty johnson
  ray davis
  dare ogunbowale
  british brooks
  reggie gilliam
  josh williams
  dameon pierce
  jacardia wright
  frank gore
  jashaun corbin
  nico collins
  khalil shakir
  jayden higgins
  marquise brown
  joshua palmer
  christian kirk
  tyrell shavers
  gabe davis
  jaylin noel
  keon coleman
  xavier hutchinson
  curtis samuel
  elijah moore
  mecole hardman
  dalton schultz
  dawson knox
  jackson hawes
  cade stover
  keleki latu
  bills
  texans

=== STEP 3: DraftKings Game Lines ===

  Fetching from DraftKings...
  LAUNCHED https://sportsbook.draftkings.com/leagues/football/nfl?category=game-lines&subcategory=game
  Scrolling to load all games...
  Extracting text...
  CLOSED https://sportsbook.draftkings.com/leagues/football/nfl?category=game-lines&subcategory=game
  Saved raw scraped text to game_lines_raw.txt (3582 chars)
  Entering TOMORROW section
  Stopping after finding 14 games (main slate complete)
  Found 14 games
  Cached to game_lines.csv

=== STEP 4: DraftKings TD Odds ===

  Fetching from DraftKings...
  LAUNCHED https://sportsbook.draftkings.com/leagues/football/nfl?category=td-scorers&subcategory=td-scorer
  CLOSED https://sportsbook.draftkings.com/leagues/football/nfl?category=td-scorers&subcategory=td-scorer
  Cached to td_odds.json

EXCLUDED ODDS (no match in DraftKings data):
  bears
  steelers

=== STEP 5: Adding ESPN Player IDs ===

  Fetching ESPN player list from API...
  Fetched 2688 players from ESPN API
  Saved to espn_players.csv

EXCLUDED ESPN IDs (no match):
  seahawks
  browns
  ravens
  packers
  lions
  patriots
  raiders
  falcons
  rams
  bears
  steelers
  jaguars
  chiefs
  saints
  49ers
  eagles
  vikings
  cardinals
  buccaneers
  cowboys
  colts
  titans
  panthers
  giants
  jets
  bengals

=== STEP 6: ESPN Projections ===

  Fetching ESPN projections...
  Filtered out 0 players with < 2.5 fpProjPts
  Fetching for 26 players


  Fetched ESPN projections: 0/26
  Cached to espn_projections.json

=== STEP 7: Adding Game Lines Data ===

  Joining game lines data...
  Game lines data added

=== STEP 8: Adding Value Analysis ===


=== STEP 9: Converting Projections to fpProjPts Scale ===

  Building new regression models...

  Training data: 0 players with both FP and ESPN projections

  Model: espnOutsideProjection → fpProjPts
    fpProjPts = NaN + NaN * espnOutside
    R² = NaN

  Model: espnScoreProjection → fpProjPts
    fpProjPts = NaN + NaN * espnScore
    R² = NaN

  Model: espnSimulationProjection → fpProjPts
    fpProjPts = NaN + NaN * espnSim
    R² = NaN

Calculating position-specific variance defaults from ESPN data...
  QB: No ESPN data available, using global defaults
  RB: No ESPN data available, using global defaults
  WR: No ESPN data available, using global defaults
  TE: No ESPN data available, using global defaults
  D: No ESPN data available, using global defaults
  Global defaults: floor=0.5, ceiling=0.7


=== STEP 11: Writing CSV Files ===

Writing 0 QBs to fanduel-QB.csv (sorted by ceiling value)
Writing 0 RBs to fanduel-RB.csv (sorted by ceiling value)
Writing 0 WRs to fanduel-WR.csv (sorted by ceiling value)
Writing 0 TEs to fanduel-TE.csv (sorted by ceiling value)
Writing 26 Ds to fanduel-D.csv (sorted by ceiling value)
Writing 0 FLEXs to fanduel-FLEX.csv (sorted by ceiling value)

❌ Error: Cannot convert undefined or null to object
